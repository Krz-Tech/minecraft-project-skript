# krz-stats - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚·ã‚¹ãƒ†ãƒ 

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## æ©Ÿèƒ½

- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼ˆHP, DEF, ATK, ä¼šå¿ƒç‡, ä¼šå¿ƒãƒ€ãƒ¡ãƒ¼ã‚¸ï¼‰
- ã‚«ã‚¹ã‚¿ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
- è£…å‚™ã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒœãƒ¼ãƒŠã‚¹
- ActionBarã§ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º

## ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚³ãƒãƒ³ãƒ‰

### `/stats [ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼]`
**èª¬æ˜**: è‡ªåˆ†ã¾ãŸã¯ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```
/stats
/stats kurazuuuuuu
```

**å‡ºåŠ›ä¾‹**:
```
[Stats] ===== kurazuuuuuu ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ =====
[Stats] HP: 20
[Stats] DEF: 0
[Stats] ATK: 1
[Stats] ä¼šå¿ƒç‡: 5%
[Stats] ä¼šå¿ƒãƒ€ãƒ¡ãƒ¼ã‚¸: 150%
```

### `/togglestats`
**èª¬æ˜**: ActionBarã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’ON/OFFã—ã¾ã™ã€‚

```
/togglestats
```

## ç®¡ç†è€…ã‚³ãƒãƒ³ãƒ‰

### `/setstats <ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼> <ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹> <å€¤>`
**æ¨©é™**: `krz.admin`  
**èª¬æ˜**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚

```
/setstats kurazuuuuuu hp 30         # HPã‚’30ã«è¨­å®š
/setstats kurazuuuuuu atk 5         # æ”»æ’ƒåŠ›ã‚’5ã«è¨­å®š
/setstats kurazuuuuuu def 10        # é˜²å¾¡åŠ›ã‚’10ã«è¨­å®š
/setstats kurazuuuuuu crit_rate 15  # ä¼šå¿ƒç‡ã‚’15%ã«è¨­å®š
/setstats kurazuuuuuu crit_dmg 200  # ä¼šå¿ƒãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’200%ã«è¨­å®š
```

## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è©³ç´°

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | è‹±å | åˆæœŸå€¤ | èª¬æ˜ |
|-----------|------|-------|------|
| HP | `hp` | 20 | ä½“åŠ› |
| é˜²å¾¡åŠ› | `def` | 0 | ãƒ€ãƒ¡ãƒ¼ã‚¸è»½æ¸›ç‡ï¼ˆ%ï¼‰ |
| æ”»æ’ƒåŠ› | `atk` | 1 | åŸºç¤æ”»æ’ƒåŠ› |
| ä¼šå¿ƒç‡ | `crit_rate` | 5 | ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç™ºç”Ÿç‡ï¼ˆ%ï¼‰ |
| ä¼šå¿ƒãƒ€ãƒ¡ãƒ¼ã‚¸ | `crit_dmg` | 150 | ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«æ™‚ã®ãƒ€ãƒ¡ãƒ¼ã‚¸å€ç‡ï¼ˆ%ï¼‰ |

## ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—å¼

```
å®Ÿãƒ€ãƒ¡ãƒ¼ã‚¸ = (ATK Ã— æ­¦å™¨å€ç‡) Ã— (1 - DEF/100) Ã— (ä¼šå¿ƒæ™‚: CRIT_DMG/100)
```

**æ­¦å™¨å€ç‡**:
- å‰£: 1.5x
- æ–§: 1.8x
- å¼“: 1.2x
- ãã®ä»–: 1.0x

**é˜²å¾¡åŠ›ä¸Šé™**: æœ€å¤§90%è»½æ¸›ï¼ˆminimum 10% damageï¼‰

## é–¢æ•°

### `stats_init(p: player)`
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’åˆæœŸå€¤ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚

```skript
stats_init(player)
```

### `stats_get(p: player, stat: text) :: number`
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æŒ‡å®šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ã—ã¾ã™ã€‚

```skript
set {_hp} to stats_get(player, "hp")
```

### `stats_set(p: player, stat: text, value: number)`
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚

```skript
stats_set(player, "atk", 10)
```

### `stats_add(p: player, stat: text, value: number)`
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«å€¤ã‚’åŠ ç®—ã—ã¾ã™ã€‚

```skript
stats_add(player, "def", 5)
```

## è£…å‚™ã‚·ã‚¹ãƒ†ãƒ 

è£…å‚™ã®Loreã«ä»¥ä¸‹ã®å½¢å¼ã§è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒœãƒ¼ãƒŠã‚¹ã‚’ä»˜ä¸ã§ãã¾ã™ï¼š

```
+5 ATK
+10 DEF
+20 HP
```

**æ³¨æ„**: ç¾åœ¨ã¯Loreãƒ™ãƒ¼ã‚¹ã®ç°¡æ˜“å®Ÿè£…ã§ã™ã€‚å°†æ¥çš„ã«SkBeeã‚’ä½¿ç”¨ã—ãŸNBTãƒ™ãƒ¼ã‚¹ã®å®Ÿè£…ã«ç§»è¡Œäºˆå®šã€‚

## ActionBarè¡¨ç¤º

ActionBarã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
â¤ 20/20 | âš” 1 | ğŸ›¡ 0
```

- HPãƒãƒ¼ã¯æ®‹é‡ã«å¿œã˜ã¦è‰²ãŒå¤‰ã‚ã‚Šã¾ã™
  - 70%ä»¥ä¸Š: ç·‘
  - 30-70%: é»„
  - 30%æœªæº€: èµ¤

## ãƒ‡ãƒ¼ã‚¿ä¿å­˜

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ `{-kp::%player's uuid%::stats::*}` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚
